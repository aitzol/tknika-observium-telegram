<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Sortu Telegram bot bat zerbitzariak monitorizatzeko</title>

		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css">
		<link rel="stylesheet" href="dist/theme/moon.css">

		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="plugin/highlight/monokai.css">
	</head>
	<body>
        <div class="reveal">
			<div class="slides">
                <section>
				    <section>
                        <strong style="color:chartreuse">Sortu Telegram bot bat zerbitzariak monitorizatzeko</strong>
                        <p>Aitzol Naberan Burgaña</p>
                        <ul>
                            <li>@aitzol twitterren</li>
                            <li>@aitzolnaberan@mastodon.eus</li>
                            <li>Emaila nahi duenak ahoz emango diot :)</li>
                        </ul>
                        </h3>
                    </section>
                    <section><strong>Tailerraren aurkezpena</strong></section>
                    <section>
                        <strong>Helburuak</strong>
                        <ul>
                            <li>Observium monitorizazio sistemaren alertak jaso</li>
                            <li>Automatizazio aukerak aztertu</li>
                            <li>Automatizazio aukera hauek beste ingurune batzuetan aplikatzeko gaitasuna lortu</li>
                        </ul>
                    </section>
                    <section>
                        <strong>Hiru eszenategi desberdin</strong>
                    </section>
                    <section>
                        <strong>Notifikazioak Telegram kanal batean jaso</strong>
                        <ul>
                            <li>Automatizazio aukerak: baxua</li>
                            <li>Integrazio/inplementazio/mantentze kostua: baxua</li>
                        </ul>
                    </section>
                    <section>
                        <strong>Telegram bot baten garapena</strong>
                        <ul>
                            <li>Automatizaio aukerak: ertainak</li>
                            <li>Integrazio/inplementazio/mantentze kostua: ertaina</li>
                        </ul>
                    </section>
                    <section>
                        <strong>Ebentu kudeaketarako web API-a</strong>
                        <ul>
                            <li>Automatizazio aukerak: altuak</li>
                            <li>Integrazio/inplementazio/mantentze kostua: altua</li>
                        </ul>
                    </section>
                    <section>
                        <strong>Garapena</strong>
                        <ul>
                            <li>Eszenategi bakoitzerako kontzeptu orokorrak azaldu</li>
                            <li>Planteatutako erronkak burutu</li>
                            <li>Proposatutako konponbidea aztertu </li>
                        </ul>
                    </section>
                    <section>
                        <strong>Aurrebaldintzak</strong>
                        <ul>
                            <li>Telegram kontua</li>
                            <li>Python ezagutza</li>
                            <li>Linux terminal bidezko editoreen ezagutza</li>
                        </ul>
                    </section>
                    <section>
                        <strong>Funtzionamendua</strong>
                        <ul>
                            <li>Partaide bakoitzak makina birtual bat Obsevium + Python ingurunearekin</li>
                            <li>Eskura daukazue tailerraren gidoiak, baina... 
                                <ul>
                                    <li>Eszenategi bakoitzak denbora aurreikuspen bat dauka esleituta</li>
                                    <li>Eszenategia bukatu artean horren inguruan dauden zalantzek izango dute lehentasuna</li>
                                    <li>Libre zarete nahi duzuen erritmoa jarraitzeko, baita ni ere :)</li>
                                </ul>
                            </li>
                        </ul>
                    </section>
                    <section><strong>Zalantzarik?</strong></section>
                </section>

				<section>
                    <section><strong>Notifikazioak Telegram kanal batean jaso</strong></section>
                    <section>
                        <strong>Helburua</strong>
                        <ul>
                            <li>Observium notifikazioak Telegram kanal batean jaso</li>
                        </ul>
                    </section>
                    <section>
                        <strong>Pausuak</strong>
                        <ol>
                            <li>Sortu Telegram bot-a</li>
                            <li>Sortu notifikazioak jasotzeko taldea</li>
                            <li>Gehitu sortu berri den bot-a taldera</li>
                            <li>Observium kontaktu bat konfiguratu Telegramera alertak bidaltzeko</li>
                            <li>Test</li>
                        </ol>
                    </section>
                    <section><strong>Proposatutako iraupena: Ordubete</strong></section>
                </section>
                <section>
                    <section><strong>Telegram bot baten garapena</strong></section>
                    <section>
                        <strong>Helburuak</strong>
                        <ul>
                            <li>Telegram bot-ek eskaintzen dituzten elkareragiketa modu batzuk ezagutu</li>
                            <li><a href="https://core.telegram.org/bots/api">Telegram bot APIa</a> inplementatzen duten <a href="https://python-telegram-bot.org/">python-telegram-bot</a> liburutegia ezagutu</li>
                        </ul>
                    </section>
                    <section>
                        <strong>Pausuak</strong>
                        <ol>
                            <li>Klonatu <a href="https://github.com/aitzol/telegram-bot-txantiloia">hezurdura repositorioa</a></li>
                            <li>Joan osatzen proposatutako eragiketa bakoitza, gidoia + <a href="https://docs.python-telegram-bot.org/en/v20.0a0/">liburutegiaren laguntza</a> erabiliz</li>
                        </ol>
                    </section>
                    <section>
                        <strong>Oinarrizko kodearen azalpena</strong>
                    </section>
                    <section>
                        <pre>
                            <code data-trim data-noescape style="max-height: 100%;">
                                from dotenv import load_dotenv, find_dotenv
                                import os
                                load_dotenv(find_dotenv())

                                from telegram.ext import (Updater, CommandHandler)

                                def start(update, context):
                                    ''' START '''
                                    # Hemen gehitu komandoaren egin beharrekoa
                                    
                                def main():
                                    # Hasieraketa
                                    TOKEN=os.get("TELEGRAM_TOKEN")
                                    updater=Updater(TOKEN, use_context=True)

                                    # Robotak erantzungo dituen ebentuak.
                                    updater.dispatcher.add_handler(CommandHandler('start',	start))

                                    # Arrankatu bot-a. Bi funtzionamendu era polling edo webhook 
                                    updater.start_polling()
                                    # updater.start_webhook()
                                    # Ebentuen zain itxaron
                                    updater.idle()

                                if __name__ == '__main__':
                                    main()
                            </code>
                        </pre>
                    </section>
                    <section>
                        <strong>Proposatutako eragiketak</strong>
                        <ol>
                            <li>Oinarrizko komando bat</li>
                            <li>Mezuei erantzun</li>
                            <li>Parametrodun komandoak</li>
                            <li>Custom teklatuak</li>
                        </ol>
                    </section>
                    <section><strong>Proposatutako iraupena: Bi ordu</strong></section>
                    <section>
                        <strong>Proposatutako kodea</strong>
                        <p><a href="https://github.com/aitzol/telegram-bot">Repositorio honetan</a> branch desberdinetan</p>
                    </section>
                </section>
                <section>
                    <section><strong>Ebentu kudeaketarako web API-a</strong></section>
                    <section>
                        <strong>Helburua</strong>
                        <ul>
                            <li>Guztiz gure esku dagoen ebentu kudeaketa sistema proposatu</li>
                        </ul>
                    </section>
                    <section>
                        <strong>Pausuak</strong>
                        <ol>
                            <li>Klonatu <a href="https://github.com/aitzol/observium-api-txantiloia">hezurdura repositorioa</a></li>
                            <li>Osatu src/app.py fitxategia proposatutako erronka (edo gustoko duzuen besteren bat) betetzeko</li>
                        </ol>
                    </section>
                    <section>
                        <strong>Oinarrizko kodearen azalpena</strong>
                        <pre>
                            <code data-trim data-noescape style="max-height: 100%;">
                                import json
                                import telegram
                                import os
                                from dotenv import load_dotenv, find_dotenv
                                load_dotenv(find_dotenv())
                                
                                from flask import Flask, request
                                app = Flask(__name__)
                                
                                @app.route('/', methods=['POST'])
                                def notifikazioa():
                                    data = json.loads(request.data)
                                
                                    return "", 204
                                 
                                app.run(host='0.0.0.0')
                            </code>
                        </pre>
                    </section>
                    <section>
                        <strong>Proposatutako erronka</strong>
                        <p>Observium-ek bidalitako alertak Telegrameko kanalera bidali <strong>baldin eta soilik baldin</strong> lan ordutegiaren barruan gauden (demagun astegunak 9:00 – 17:00) edo alertaren maila ‘Critical’ den.
                        </p>
                    </section>
                    <section>
                        <strong>Proposatutako iraupena: Bi ordu</strong>
                    </section>
                    <section>
                        <strong>Proposatutako kodea</strong>
                        <p><a href="https://github.com/aitzol/observium-api">Repositorio honetan</a></p>
                    </section>
                </section>
                <section>
                    <strong>Laburbilduz</strong>
                </section>
                <section>
                    <strong>Zalantza, galdera, komentario edo bestelakorik?</strong>
                    <img src="piedras-vida-brian.gif" />
                </section>
			</div>
		</div>
        <script src="dist/reveal.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/markdown/markdown.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		<script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
			Reveal.initialize({
				hash: true,

				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
			});
		</script>
	</body>
</html>